<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>demo</title>
    <link rel="stylesheet" type="text/css" href="../../lib/weui.min.css" />
    <link rel="stylesheet" type="text/css" href="../../doc/icon/iconfont.css" />
    <link rel="stylesheet" type="text/css" href="../../doc/css/demo.css" />
    <link rel="stylesheet/less" type="text/css" href="../../build/less/app.less" />
    <script src="../../lib/less.min.js" type="text/javascript"></script>
</head>
<body>
<div class="nav-bar shadow nav-bar-fixed">
    <div class="nav-bar-title">标题</div>
    <div class="nav-bar-right" onclick="javascript:location.reload();">
        <span class="nav-bar-text">
            刷新
        </span>
    </div>
</div>
    <form>
        <div class="weui-cells__title">性别</div>
        <div class="weui-cells weui-cells_radio">
            <label class="weui-cell weui-check__label" for="r1">
                <div class="weui-cell__bd">男</div>
                <div class="weui-cell__ft">
                    <input  type="radio" class="weui-check" name="sex" value="male" id="r1" data-rule="性别: checked">
                    <span class="weui-icon-checked"></span>
                </div>
            </label>
            <label class="weui-cell weui-check__label" for="r2">
                <div class="weui-cell__bd">女</div>
                <div class="weui-cell__ft">
                    <input type="radio" name="sex" class="weui-check" value="female" id="r2">
                    <span class="weui-icon-checked"></span>
                </div>
            </label>
        </div>
        <div class="weui-cells__title">编码助手(1-2个)</div>
        <div class="weui-cells weui-cells_checkbox">
            <label class="weui-cell weui-check__label" for="c1">
                <div class="weui-cell__hd">
                    <input type="checkbox" class="weui-check" name="assistance" id="c1" data-rule="编码助手: checked(2~)">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">黄药师</div>
            </label>
            <label class="weui-cell weui-check__label" for="c2">
                <div class="weui-cell__hd">
                    <input type="checkbox" name="assistance" class="weui-check" id="c2">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">欧阳锋</div>
            </label>
            <label class="weui-cell weui-check__label" for="c3">
                <div class="weui-cell__hd">
                    <input type="checkbox" name="assistance" class="weui-check" id="c3">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">段智兴</div>
            </label>
            <label class="weui-cell weui-check__label" for="c4">
                <div class="weui-cell__hd">
                    <input type="checkbox" name="assistance" class="weui-check" id="c4">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">洪七公</div>
            </label>
        </div>
        <div class="weui-cells weui-cells_form">
            <div class="weui-cell">
                <div class="weui-cell__hd"><label class="weui-label">手机号</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" type="tel" maxlength="11" placeholder="输入你现在的手机号" data-rule="手机号: required;mobile">
                </div>

                <div class="weui-cell__ft">
                    <i class="weui-icon-warn"></i>
                </div>
            </div>
            <div class="weui-cell">
                <div class="weui-cell__hd"><label class="weui-label">身份证号码</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" type="text" maxlength="18" placeholder="输入你的身份证号码" data-rule="身份证: required;IDcard">
                </div>
                <div class="weui-cell__ft">
                    <i class="weui-icon-warn"></i>
                </div>
            </div>
            <div class="weui-cell weui-cell weui-cell_vcode">
                <div class="weui-cell__hd"><label class="weui-label">验证码</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" maxlength="4" type="text" placeholder="点击验证码更换">
                </div>
                <div class="weui-cell__ft">
                    <i class="weui-icon-warn"></i>
                    <img class="weui-vcode-img" src="../../doc/img/vcode.jpg">
                </div>
            </div>
        </div>
        <div class="weui-btn-area">
            <button type="submit" class="weui-btn weui-btn_primary">提交</button>
        </div>
    </form>

<script src="../../lib/jquery.min.js"></script>
<script src="../../build/js/app.js"></script>
<script src="../../lib/weui.js/dist/weui.js"></script>
<script src="../../lib/nice-validator/jquery.validator.min.js?local=zh-CN"></script>
<script>
    $.validator.config({
        timely: 1, //0 为提交验证，1为失去焦点验证，2为值改变验证
        msgMaker: false,
        invalid: function (form, errors) {
            weui.topTips(errors[0]);
            // weui.toast(errors[0]);
        },
        validation: function (el, res) {
            var $el = $(el),
                $box = $el.parent().parent();
            var type = $el.is('input[type="radio"]') || $el.is('input[type="checkbox"]');
            if (!type) {
                if (res.isValid) {
                    $box.removeClass('weui-cell_warn')
                } else {
                    $box.addClass('weui-cell_warn')
                }
            }
        }
    });
</script>
</body>
</html>