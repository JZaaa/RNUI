<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>demo</title>
    <link rel="stylesheet" type="text/css" href="../../lib/weui.min.css" />
    <link rel="stylesheet" type="text/css" href="../../doc/icon/iconfont.css" />
    <link rel="stylesheet" type="text/css" href="../../doc/css/demo.css" />
    <link rel="stylesheet/less" type="text/css" href="../../build/less/app.less" />
    <script src="../../lib/less.min.js" type="text/javascript"></script>
</head>
<body>
<div class="nav-bar shadow nav-bar-fixed">
    <div class="nav-bar-title">标题</div>
    <div class="nav-bar-right" onclick="javascript:location.reload();">
        <span class="nav-bar-text">
            刷新
        </span>
    </div>
</div>
<div class="doc-panel-body">
    <div id="form1">
        <div class="weui-cells__title">性别</div>
        <div class="weui-cells weui-cells_radio">
            <label class="weui-cell weui-check__label" for="r1">
                <div class="weui-cell__bd">男</div>
                <div class="weui-cell__ft">
                    <input required="" type="radio" class="weui-check" name="sex" value="male" id="r1" tips="请选择性别">
                    <span class="weui-icon-checked"></span>
                </div>
            </label>
            <label class="weui-cell weui-check__label" for="r2">
                <div class="weui-cell__bd">女</div>
                <div class="weui-cell__ft">
                    <input type="radio" name="sex" class="weui-check" value="female" id="r2">
                    <span class="weui-icon-checked"></span>
                </div>
            </label>
        </div>
        <div class="weui-cells__title">编码助手(1-2个)</div>
        <div class="weui-cells weui-cells_checkbox">
            <label class="weui-cell weui-check__label" for="c1">
                <div class="weui-cell__hd">
                    <input required="" pattern="{1,2}" type="checkbox" tips="请勾选1-2个敲码助手" class="weui-check" name="assistance" id="c1">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">黄药师</div>
            </label>
            <label class="weui-cell weui-check__label" for="c2">
                <div class="weui-cell__hd">
                    <input type="checkbox" name="assistance" class="weui-check" id="c2">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">欧阳锋</div>
            </label>
            <label class="weui-cell weui-check__label" for="c3">
                <div class="weui-cell__hd">
                    <input type="checkbox" name="assistance" class="weui-check" id="c3">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">段智兴</div>
            </label>
            <label class="weui-cell weui-check__label" for="c4">
                <div class="weui-cell__hd">
                    <input type="checkbox" name="assistance" class="weui-check" id="c4">
                    <i class="weui-icon-checked"></i>
                </div>
                <div class="weui-cell__bd">洪七公</div>
            </label>
        </div>
        <div class="weui-cells weui-cells_form">
            <div class="weui-cell">
                <div class="weui-cell__hd"><label class="weui-label">手机号</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" type="tel" required="" pattern="^\d{11}$" maxlength="11" placeholder="输入你现在的手机号" emptytips="请输入手机号" notmatchtips="请输入正确的手机号">
                </div>
                <div class="weui-cell__ft">
                    <i class="weui-icon-warn"></i>
                </div>
            </div>
            <div class="weui-cell">
                <div class="weui-cell__hd"><label class="weui-label">身份证号码</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" type="text" required="" pattern="REG_IDNUM" maxlength="18" placeholder="输入你的身份证号码" emptytips="请输入身份证号码" notmatchtips="请输入正确的身份证号码">
                </div>
                <div class="weui-cell__ft">
                    <i class="weui-icon-warn"></i>
                </div>
            </div>
            <div class="weui-cell weui-cell weui-cell_vcode">
                <div class="weui-cell__hd"><label class="weui-label">验证码</label></div>
                <div class="weui-cell__bd">
                    <input class="weui-input" maxlength="4" type="text" required="" pattern="REG_VCODE" placeholder="点击验证码更换" tips="请输入验证码">
                </div>
                <div class="weui-cell__ft">
                    <i class="weui-icon-warn"></i>
                    <img class="weui-vcode-img" src="../../doc/img/vcode.jpg">
                </div>
            </div>
        </div>
        <div class="weui-btn-area">
            <a id="formSubmitBtn" href="javascript:" class="weui-btn weui-btn_primary">提交</a>
        </div>
    </div>
</div>


<script src="../../lib/jquery.min.js"></script>
<script src="../../build/js/app.js"></script>
<script src="../../lib/weui.js/dist/weui.js"></script>
<script>
    /* form */
    // 约定正则
    var regexp = {
        regexp: {
            IDNUM: /(?:^\d{15}$)|(?:^\d{18}$)|^\d{17}[\dXx]$/,
            VCODE: /^.{4}$/
        }
    };

    // 失去焦点时检测
    weui.form.checkIfBlur('#form1', regexp);

    // 表单提交
    $('#formSubmitBtn').on('click', function () {
        weui.form.validate('#form1', function (error) {
            console.log(error);
            if (!error) {
                var loading = weui.loading('提交中...');
                setTimeout(function () {
                    loading.hide();
                    weui.toast('提交成功', 3000);
                }, 1500);
            }
        }, regexp);
    });

</script>
</body>
</html>